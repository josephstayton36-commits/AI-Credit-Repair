<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Credit Repair | Member Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Your AI Credit Repair member dashboard: profile, tools, resources, and elite features." />

  <link rel="stylesheet" href="style.css" />

  <!-- Firebase Compat (matches your auth.js compat version) -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <!-- Auth / gating logic -->
  <script defer src="auth.js"></script>
</head>

<body>

  <!-- ======================= HEADER / NAV ======================= -->
  <header class="site-header">
    <div class="container nav">

      <div class="brand">
        <!-- Replace with your logo/mascot path if you have it -->
        <img src="assets/mad_scientist.png" alt="AI Credit Repair Mascot" class="logo" />

        <div class="brand-text">
          <span class="brand-name">AI <strong>Credit</strong> Repair</span>
          <span class="brand-tagline"><strong>Smart Strategy â€¢ Real Progress â€¢ Member Tools</strong></span>
        </div>
      </div>

      <nav class="main-nav">
        <!-- Keep whatever pages you already have -->
        <a href="home.html">Dashboard</a>
        <a href="free-resources.html">Free Resources</a>
        <a href="payment.html" class="elite-only">Elite Upgrade</a>
        <a href="upload.html" class="elite-only">Upload Reports</a>
        <a href="admin.html" class="elite-only">Admin</a>
      </nav>

    </div>
  </header>

  <!-- ======================= MAIN ======================= -->
  <main class="container page">

    <!-- ======================= HERO ======================= -->
    <section class="hero">
      <div class="hero-title">
        <div>
          <div class="kicker">Member Dashboard</div>
          <h1>Welcome back ðŸ‘‹</h1>
          <p>
            Your secure member area for credit tools, progress tracking, and support resources.
          </p>
        </div>

        <div class="row">
          <!-- NEW BUTTON THING -->
          <button class="btn btn-ghost" onclick="logoutUser()">Logout</button>
        </div>
      </div>

      <div class="divider"></div>

      <div class="spread">
        <div class="badge">
          <span>Signed in as:</span>
          <strong id="userEmail">loading...</strong>
        </div>

        <div class="badge">
          <span>Plan:</span>
          <strong id="profileTier">free</strong>
        </div>
      </div>
    </section>

    <!-- ======================= QUICK STATS ======================= -->
    <section class="section">
      <div class="section-title">
        <h2>Your Snapshot</h2>
        <span class="small">This can be automated later with real data.</span>
      </div>

      <div class="grid grid-3">
        <div class="stat">
          <div class="label">Next Best Action</div>
          <div class="value">Dispute</div>
          <div class="trend">Target inaccurate negatives & verify reporting.</div>
        </div>

        <div class="stat">
          <div class="label">Utilization Goal</div>
          <div class="value">&lt; 9%</div>
          <div class="trend">Keep balances low for score stability.</div>
        </div>

        <div class="stat">
          <div class="label">Payment Streak</div>
          <div class="value">On Track</div>
          <div class="trend">Perfect history is your #1 long-term lever.</div>
        </div>
      </div>
    </section>

    <!-- ======================= MEMBER TOOLS ======================= -->
    <section class="section">
      <div class="section-title">
        <h2>Member Tools</h2>
        <span class="small">Fast actions that move your score.</span>
      </div>

      <div class="grid grid-2">
        <div class="panel panel-pad">
          <h3>Ask AI Credit Coach</h3>
          <p>Get guidance on disputes, strategy, utilization, and rebuilding timelines.</p>
          <div class="row" style="margin-top:12px;">
            <!-- NEW BUTTON THING -->
            <button class="btn-primary" onclick="alert('Hook this to your AI chat widget next.')">Open Coach</button>
            <button class="btn btn-ghost" onclick="location.href='free-resources.html'">Free Letters</button>
          </div>
        </div>

        <div class="panel panel-pad">
          <h3>Progress Checklist</h3>
          <p>Follow your step-by-step plan. Consistency beats intensity.</p>
          <div class="row" style="margin-top:12px;">
            <button class="btn-primary" onclick="alert('Next step: build checklist UI + save in Firestore.')">View Checklist</button>
            <button class="btn btn-ghost" onclick="alert('Next: add reminders + timeline.')">Set Reminders</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ======================= ELITE ONLY AREA ======================= -->
    <section class="section elite-only">
      <div class="section-title">
        <h2>Elite Tools ðŸ”’</h2>
        <span class="small">Visible only to Elite members.</span>
      </div>

      <div class="grid grid-2">
        <div class="panel panel-pad">
          <h3>Upload Credit Reports</h3>
          <p>Securely submit your reports for review and strategy building.</p>
          <div class="row" style="margin-top:12px;">
            <button class="btn-primary" onclick="location.href='upload.html'">Go to Upload</button>
            <button class="btn btn-ghost" onclick="alert('Next: add upload status tracking.')">Check Status</button>
          </div>
        </div>

        <div class="panel panel-pad">
          <h3>Elite Snapshot Plan</h3>
          <p>Your structured 30â€“90 day action plan. Designed for real results.</p>
          <div class="row" style="margin-top:12px;">
            <button class="btn-primary" onclick="alert('Next: connect to your Elite Snapshot page/PDF.')">Open Snapshot</button>
            <button class="btn btn-ghost" onclick="location.href='payment.html'">Manage Plan</button>
          </div>
        </div>
      </div>
    </section>

    <!-- ======================= PROFILE EDITOR (HOOKED TO auth.js) ======================= -->
    <section class="section">
      <div class="section-title">
        <h2>Your Profile</h2>
        <span class="small">This saves to Firestore (users collection).</span>
      </div>

      <div class="card card-pad">
        <div class="grid grid-2">
          <div>
            <label for="profileName">Full Name</label>
            <input id="profileName" type="text" placeholder="Your name" />
          </div>

          <div>
            <label for="profilePhone">Phone</label>
            <input id="profilePhone" type="tel" placeholder="(555) 555-5555" />
          </div>
        </div>

        <div class="row" style="margin-top:14px;">
          <!-- NEW BUTTON THING -->
          <button class="btn-primary" onclick="saveProfile()">Save Profile</button>
          <button class="btn btn-ghost" onclick="alert('Next: add address + goals fields.')">Add More Info</button>
        </div>

        <div class="divider"></div>

        <p class="small">
          Plan tier shown above updates automatically based on your Firestore user document
          (<code>users/{uid}</code> â†’ <code>tier</code>).
        </p>
      </div>
    </section>

    <!-- ======================= ADMIN (ONLY SHOWS IF YOU LINK IT / ROLE CHECK IS IN auth.js) ======================= -->
    <section class="section elite-only">
      <div class="section-title">
        <h2>Admin</h2>
        <span class="small">If your role is admin, you can access admin tools.</span>
      </div>

      <div class="panel panel-pad">
        <h3>Admin Console</h3>
        <p>Manage members, tiers, and view uploads (coming next).</p>
        <div class="row" style="margin-top:12px;">
          <button class="btn-primary" onclick="location.href='admin.html'">Open Admin</button>
          <button class="btn btn-ghost" onclick="alert('Next: build member list + tier toggle.')">Member Manager</button>
        </div>
      </div>
    </section>

    <footer class="footer">
      <div class="spread">
        <span>Â© <span id="year"></span> AI Credit Repair</span>
        <span class="small">Secure member portal â€¢ Built for results</span>
      </div>
    </footer>

  </main>

  <script>
    // tiny helper for footer year (no dependency)
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>

</body>
</html>
